<ng-include src="'partials/Header.html'" ng-controller="headerCtrl"></ng-include>
<ng-include src="'partials/Sidebar.html'" ng-controller="sidebarCtrl"></ng-include>

<div class="events-list col-xs-9">
	<div class="col-xs-12 event-filter">
		<form id="searchValues">
	        <div class="col-md-3">
	        	<label for="dateSelection">Date:</label>
	            <input
	            	ng-model="dateSelection"
	            	ng-change="getEvents()"
	            	id="dateSelection"
	            	type="date"
	            	class="form-control"/>
	        </div>
	        <div class="col-md-3" >
	        	<label for="distance">Distance:</label>
	        	<output for="distance" id="distanceOutput">5 km</output>
				<input 
					ng-model="distance"
					ng-change="getEvents()"
					oninput="document.getElementById('distanceOutput').value = this.value + ' km'"
					type="range"
					id="distance"
					min="1"
					max="50">
	        </div>
	        <div class="col-md-3 col-md-offset-3">
	        	<label for="sort">Sort by:</label>
	        	<select
	        		ng-model="sort"
					ng-change="getEvents()"
	        		name="sort"
	        		id="sort"
	        		class="form-control">
	        		<option value="time" selected>Time</option>
	        		<option value="distance">Distance</option>
	        		<option value="venue">Venue</option>
	        		<option value="popularity">Popularity</option>
	        	</select>
	        </div>
        </form>  
	</div>
	<div class="col-xs-12 event-item" ng-repeat="event in events.events">
		<div class="col-xs-2 event-picture">
			<img ng-src="{{event.profilePicture}}" alt="{{event.name}}">
		</div>
		<div class="col-xs-10">
			<div class="col-xs-12">
				<h4>
					<a ng-href="#!/ShowEvent/{{event.id}}">{{event.name}}</a>
				</h4>
				<div>{{event.description}}</div>
				<div>{{event.distance}}</div>
				<div>{{event.endTime}}</div>
				<div>{{event.startTime}}</div>
				<div>{{event.stats.attending}}</div>
				<div>{{event.timeFromNow}}</div>
				<div>{{event.venue.name}}</div>
				<div>{{event.venue.location}}</div>
				<div>{{event.venue.profilePicture}}</div>
			</div>
		</div>
	</div>
</div>